# vim: set ft=yaml:
# yaml-language-server: $schema=values.schema.json

image:
# -- Repository for Apache http server
  repository: quay.io/rgordill/httpd-micro
# -- Tag for Apache http server
  tag: "2.24-0"

# @schema
# required: false
# @schema
# -- The complete prefix for all the objects generated by the chart (optional)
fullnameOverride: {}

# Storage
storage:
# @schema
# x-form: true
# x-render: slider
# x-sliderMin: 1
# x-sliderMax: 2048
# x-sliderUnit: Gi
# @schema
# -- Volume Size
  size: 1Gi
# -- The RWX-capable StorageClass to provision the volume.
  storageClass: ocs-storagecluster-cephfs

service:
# -- Service port number to expose httpd internally
  port: 443

# -- default domain for ingress controller
domain: apps.ocp.sa-iberia.lab.eng.brq2.redhat.com

# CPU and memory resources for the pod
resources: 
  requests:
# @schema
# -- CPU requests
# @schema
    cpu: 1
# @schema
# x-form: true
# x-render: slider
# x-sliderMin: 128
# x-sliderMax: 2048
# x-sliderUnit: Mi
# @schema
# -- Memory requests
    memory: 512Mi
  limits:
# -- CPU limits
    cpu: 1
# @schema
# x-form: true
# x-render: slider
# x-sliderMin: 128
# x-sliderMax: 2048
# x-sliderUnit: Mi
# @schema
# -- Memory limits
    memory: 512Mi

# -- Number of replicas
replicas: 1

ingress:
# -- Expose http outside the cluster
  enabled: true

git:
# -- Git URL with content
  url: https://github.com/sclorg/httpd-ex.git
# -- Git branch with content
  branch: master

# @schema
# required: false
# @schema
# -- Affinity definition
affinity: {}

monitor:
# -- Monitoring enabled
  enabled: true
# Monitoring image
  image: 
# -- Monitoring image
    repository: quay.io/lusitaniae/apache-exporter
# -- Monitoring tag
    tag: latest

# @schema
# enum: 
# - json
# - combined
# @schema
# -- Logging format
logging: json

certManager:
# -- Enabling cert-manager Certs creation
  enabled: true
  issuerRef:
# @schema
# -- Kind of Issuer
# enum:
# - Issuer
# - ClusterIssuer
# @schema
    kind: ClusterIssuer
# @schema
# -- IssuerName
# default: ""
# @schema
    name: lab-ca-issuer 

# TODO: extraConfigMaps to inject to http server
# extraConfigMaps: []